"use strict";var pages=document.getElementById("sub-container").getElementsByTagName("article"),parent=document.getElementById("main-container"),child=document.getElementById("sub-container"),pageCounter=document.getElementById("pcount"),currentPage=0,pageWidth=window.innerWidth,isScrolling=!1,whiteSpace=child.offsetWidth-child.clientWidth,leftControll=document.createElement("div"),rigthControll=document.createElement("div"),innerLeft=document.createElement("div"),innerRigth=document.createElement("div");function preventDefault(e){e=e||window.event}function movePage(e){isScrolling||(isScrolling=!0,animatePages(pages,e,function(){isScrolling=!1}))}function preventDefaultForScrollKeys(e){switch(e.keyCode){case 37:movePage(!1);break;case 39:movePage(!0);break;case 38:case 40:return preventDefault(e),!1}}function setScbPage(e){currentPage=e<=0&&e<pages.length?e:currentPage,window.scbCurrentPage=currentPage;for(var t=0;t<=pages.length-1;t++)pages[t].style.left=t<=e?"0px":pageWidth+"px",console.log(pages[t])}function animatePages(e,t,n){var i,r=1,a=pageWidth;function o(){t?a-80<1?(n(),e[currentPage+1].style.left="0px",currentPage+=1,window.scbCurrentPage=currentPage+1):(e[currentPage+1].style.display="block",a-=80,e[currentPage+1].style.left=a+"px",requestAnimationFrame(o)):pageWidth<=r?(n(),e[currentPage].style.display="none",currentPage-=1,window.scbCurrentPage=currentPage+1):(r+=80,e[currentPage].style.left=r+"px",requestAnimationFrame(o))}i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestAnimationFrame=i,0==currentPage&&t?requestAnimationFrame(o):currentPage!=e.length-1||t?0<currentPage&&currentPage<e.length-1?requestAnimationFrame(o):n():requestAnimationFrame(o)}window.scbNumPages=pages.length,window.scbCurrentPage=0,leftControll.classList.add("scb-left"),innerLeft.id="lb",innerLeft.classList.add("scb-arrows"),innerLeft.classList.add("left"),leftControll.appendChild(innerLeft),rigthControll.classList.add("scb-right"),innerRigth.id="rb",innerRigth.classList.add("scb-arrows"),innerRigth.classList.add("right"),rigthControll.appendChild(innerRigth),child.appendChild(leftControll),child.appendChild(rigthControll),child.style.paddingRight=whiteSpace+"px",child.setAttribute("style","width:"+(child.clientWidth+whiteSpace)+"px;"),window.onresize=function(){pageWidth=window.innerWidth;for(var e=0;e<pages.length;e++)0<pages[e].offsetLeft&&(pages[e].style.left=pageWidth+"px")},window.setScbPage=setScbPage,window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,document.onkeydown=preventDefaultForScrollKeys;var before=document.getElementById("lb"),next=document.getElementById("rb");next.addEventListener("click",function(){movePage(!0)}),before.addEventListener("click",function(){movePage(!1)});