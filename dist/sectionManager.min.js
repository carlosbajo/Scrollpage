"use strict";var pages=document.getElementsByClassName("zxsh-page"),parent=document.getElementById("main-container"),child=document.getElementById("sub-container"),pageCounter=document.getElementById("pcount"),currentPage=0,pageWidth=window.innerWidth,isScrolling=!1,whiteSpace=child.offsetWidth-child.clientWidth;function preventDefault(e){e=e||window.event}function movePage(e){isScrolling||(isScrolling=!0,animatePages(pages,e,function(){isScrolling=!1}))}function preventDefaultForScrollKeys(e){switch(e.keyCode){case 37:movePage(!1);break;case 39:movePage(!0);break;case 38:case 40:return preventDefault(e),!1}}function animatePages(e,t,n){var a,i=1,r=pageWidth;function o(){t?r<1?(n(),e[currentPage+1].style.left="0px",currentPage+=1):(r-=r/8,e[currentPage+1].style.left=r+"px",requestAnimationFrame(o)):pageWidth<=i?(n(),currentPage-=1):(i+=20,e[currentPage].style.left=i+"px",requestAnimationFrame(o))}a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestAnimationFrame=a,0==currentPage&&t?requestAnimationFrame(o):currentPage!=e.length-1||t?0<currentPage&&currentPage<e.length-1?requestAnimationFrame(o):n():requestAnimationFrame(o)}function swipedetect(e,t){var n,a,i,r,o,s,c=e,g=t||function(e){};c.addEventListener("touchstart",function(e){var t=e.changedTouches[0];n="none",a=t.pageX,i=t.pageY,s=(new Date).getTime()},!1),c.addEventListener("touchmove",function(e){1==e.changedTouches.length&&10<Math.abs(e.changedTouches[0].pageX-a)&&e.preventDefault()}),c.addEventListener("touchend",function(e){var t=e.changedTouches[0];r=t.pageX-a,o=t.pageY-i,(new Date).getTime()-s<=2e3&&(10<=Math.abs(r)&&Math.abs(o)<=1e3?n=r<0?"left":"right":10<=Math.abs(o)&&Math.abs(r)<=1e3&&(n=o<0?"up":"down")),g(n),e.preventDefault()},!1)}child.style.paddingRight=whiteSpace+"px",child.setAttribute("style","width:"+(child.clientWidth+whiteSpace)+"px;"),window.onresize=function(){pageWidth=window.innerWidth;for(var e=0;e<pages.length;e++)0<pages[e].offsetLeft&&(pages[e].style.left=pageWidth+"px")},swipedetect(parent,function(e){switch(e){case"right":movePage(!1);break;case"left":movePage(!0)}}),window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,document.onkeydown=preventDefaultForScrollKeys;var before=document.getElementById("lb"),next=document.getElementById("rb");next.addEventListener("click",function(){movePage(!0)}),before.addEventListener("click",function(){movePage(!1)});var sidebar=document.getElementById("sidebar"),toggleState=!0;function burger(e){e.classList.toggle("zxsh-change"),toggleSidebar(sidebar)}function toggleSidebar(e){if(toggleState)e.classList.remove("horizTranslateBack"),e.classList.add("horizTranslate"),toggleState=!toggleState;else{var t=window.getComputedStyle(e).getPropertyValue("margin-left");e.style.marginLeft=t,e.classList.remove("horizTranslate"),e.classList.add("horizTranslateBack"),toggleState=!toggleState}}